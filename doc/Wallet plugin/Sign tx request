@startuml
participant "End user" as user
participant "Browser" as ui
participant "Thyra server" as thyra
participant "Wallet" as w
participant "Node (API)" as node
title "= **Wallet plugin SIGN request**"

user -> thyra: SIGN request
thyra -> w: POST plugin/cmd/executeFunction/operationId/{nickname}
w -> thyra: password request
thyra -> user: GUI password request
user -> thyra: password entry
thyra -> w: GET /plugin/wallet/operationId/{nickname}
w -> w: is password correct?
w -> thyra: KO response - Wallet-0002
thyra -> ui: display error Wallet-0002
ui -> user: error Wallet-0002 displayed
w -> node: ok response - callSC(xxx)
node -> node: SC xx execution
node -> w: KO reponse - Wallet-XXXX
w -> thyra: KO reponse - Wallet-XXXX
thyra -> ui: display Wallet-XXXX error
ui -> user: Error Wallet-XXXX displayed
node -> w: OK response - success
thyra -> ui: tx signed
ui -> user: tx signed - action performed

@enduml

